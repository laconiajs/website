<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>adapter · Laconia</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;adapter is using the &lt;a href=&quot;/docs/api/event&quot;&gt;event&lt;/a&gt; package under the hood, so deeper&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="adapter · Laconia"/><meta property="og:type" content="website"/><meta property="og:url" content="https://laconiajs.io/index.html"/><meta property="og:description" content="&lt;p&gt;adapter is using the &lt;a href=&quot;/docs/api/event&quot;&gt;event&lt;/a&gt; package under the hood, so deeper&lt;/p&gt;
"/><meta property="og:image" content="https://laconiajs.io/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://laconiajs.io/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137047564-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-137047564-1');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/laconia.svg" alt="Laconia"/><h2 class="headerTitleWithLogo">Laconia</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/introduction/getting-started" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/api/intro" target="_self">API</a></li><li class=""><a href="/help" target="_self">Help</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/introduction/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/motivation">Motivation</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/core-concepts">Core Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/philosophy">Philosophy</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/examples">Examples</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/faq">FAQ</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/support-me">Support Me</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Laconia vs. Other</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/vs/claudia">Claudia</a></li><li class="navListItem"><a class="navItem" href="/docs/vs/express-koa">Express, Koa, Hapi, etc.</a></li><li class="navListItem"><a class="navItem" href="/docs/vs/middy">Middy</a></li><li class="navListItem"><a class="navItem" href="/docs/vs/serverless-sam">Serverless, SAM, Apex, etc.</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/guides/injecting-dependencies">Injecting Dependencies</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/unit-testing">Unit Testing</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/adapting-events">Adapting Events</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/creating-api-endpoints">Creating API Endpoints</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/retrieving-secrets">Retrieving Secrets</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/retrieving-config">Retrieving Config</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/warming-up">Warming Up</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/invoking-other-lambdas">Invoking Other Lambdas</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/long-running-tasks">Long Running Tasks</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/creating-middleware">Creating Middleware</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/api/intro">API Reference: Intro</a></li><li class="navListItem"><a class="navItem" href="/docs/api/core">core</a></li><li class="navListItem"><a class="navItem" href="/docs/api/event">event</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/api/adapter">adapter</a></li><li class="navListItem"><a class="navItem" href="/docs/api/adapter-api">adapter-api</a></li><li class="navListItem"><a class="navItem" href="/docs/api/invoker">invoker</a></li><li class="navListItem"><a class="navItem" href="/docs/api/config">config</a></li><li class="navListItem"><a class="navItem" href="/docs/api/batch">batch</a></li><li class="navListItem"><a class="navItem" href="/docs/api/middleware-lambda-warmer">middleware-lambda-warmer</a></li><li class="navListItem"><a class="navItem" href="/docs/api/middleware-serverless-plugin-warmup">middleware-serverless-plugin-warmup</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/laconiajs/website/edit/master/docs/api/adapter.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">adapter</h1></header><article><div><span><p>adapter is using the <a href="/docs/api/event">event</a> package under the hood, so deeper
details of how the adapter works is documented there.</p>
<h2><a class="anchor" aria-hidden="true" id="s3options-app"></a><a href="#s3options-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>s3(options)(app)</code></h2>
<p>Creates an event adapter that will retrieve the object that has triggered the
event from S3, then convert the object into your application input based on the
<code>inputType</code> option.</p>
<ul>
<li><code>options</code>:
<ul>
<li><code>inputType = &quot;object&quot;</code>
<ul>
<li>Supported values are: <code>object</code>, <code>stream</code></li>
<li>Determines what should the application receive as an input</li>
</ul></li>
</ul></li>
</ul>
<p>Example:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// inputType: object</span>
<span class="hljs-keyword">const</span> laconia = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/core"</span>);
<span class="hljs-keyword">const</span> s3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/adapter"</span>).s3();

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">async</span> object =&gt; {
  <span class="hljs-built_in">console</span>.log(object); <span class="hljs-comment">// do operation with the object</span>
};

exports.handler = laconia(s3(app));

<span class="hljs-comment">// inputType: stream</span>
<span class="hljs-keyword">const</span> laconia = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/core"</span>);
<span class="hljs-keyword">const</span> s3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/adapter"</span>).s3({ <span class="hljs-attr">inputType</span>: <span class="hljs-string">"stream"</span> });

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">async</span> inputStream =&gt; {
  inputStream.pipe(); <span class="hljs-comment">// do stream operation with the S3 object stream</span>
};

exports.handler = laconia(s3(app));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="kinesis-app"></a><a href="#kinesis-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>kinesis()(app)</code></h2>
<p>Creates an event adapter that will parse kinesis event data from JSON format
into regular object. This event adapter will also handle the Kinesis event data
format which are stored in base64 and buried in a nested structure.</p>
<p>Example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> laconia = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/core"</span>);
<span class="hljs-keyword">const</span> kinesis = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/adapter"</span>).kinesis();

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">async</span> records =&gt; {
  <span class="hljs-built_in">console</span>.log(records); <span class="hljs-comment">// Prints: [{ mykey: 'my value'}]</span>
};

exports.handler = laconia(kinesis(app));

<span class="hljs-comment">// Calls handler with an example Kinesis event</span>
exports.handler({
  <span class="hljs-attr">Records</span>: [
    {
      <span class="hljs-attr">kinesis</span>: {
        <span class="hljs-attr">data</span>: <span class="hljs-string">"eyJteWtleSI6Im15IHZhbHVlIn0="</span> <span class="hljs-comment">// This is the value you'll get from object: { mykey: 'my value' }</span>
      }
    }
  ]
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="sns-app"></a><a href="#sns-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>sns()(app)</code></h2>
<p>Creates an event adapter that will parse sns message from JSON format into
regular object.</p>
<p>Example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> laconia = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/core"</span>);
<span class="hljs-keyword">const</span> sns = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/adapter"</span>).sns();

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">async</span> message =&gt; {
  <span class="hljs-built_in">console</span>.log(message); <span class="hljs-comment">// Prints: { mykey: 'my value'}</span>
};

exports.handler = laconia(sns(app));

<span class="hljs-comment">// Calls handler with an example SNS event</span>
exports.handler({
  <span class="hljs-attr">Records</span>: [
    {
      <span class="hljs-attr">Sns</span>: {
        <span class="hljs-attr">Message</span>: <span class="hljs-string">'{"mykey":"my value"}'</span>
      }
    }
  ]
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="sqs-app"></a><a href="#sqs-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>sqs()(app)</code></h2>
<p>Creates an event adapter that will parse SQS message body from JSON into regular
object.</p>
<p>Example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> laconia = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/core"</span>);
<span class="hljs-keyword">const</span> sqs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@laconia/adapter"</span>).sqs();

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">async</span> messages =&gt; {
  <span class="hljs-built_in">console</span>.log(messages); <span class="hljs-comment">// Prints: [{ mykey: 'my value'}]</span>
};

exports.handler = laconia(sqs(app));

<span class="hljs-comment">// Calls handler with an example SQS event</span>
exports.handler({
  <span class="hljs-attr">Records</span>: [
    {
      <span class="hljs-attr">body</span>: <span class="hljs-string">'{"mykey":"my value"}'</span>
    }
  ]
});
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/api/event"><span class="arrow-prev">← </span><span>event</span></a><a class="docs-next button" href="/docs/api/adapter-api"><span>adapter-api</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#s3options-app"><code>s3(options)(app)</code></a></li><li><a href="#kinesis-app"><code>kinesis()(app)</code></a></li><li><a href="#sns-app"><code>sns()(app)</code></a></li><li><a href="#sqs-app"><code>sqs()(app)</code></a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/laconia.svg" alt="Laconia" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/introduction/getting-started">Getting Started</a><a href="/docs/introduction/core-concepts">Core Concepts</a><a href="/docs/api/intro">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/laconiajs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://gitter.im/laconiajs/laconia">Chat</a></div><div><h5>More</h5><a href="https://twitter.com/laconiajs" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://github.com/laconiajs/laconia">GitHub</a><a class="github-button" href="https://github.com/laconiajs/laconia" data-icon="octicon-star" data-count-href="/laconiajs/laconia/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Wisen Tanasa</section><section class="copyright">Logo designed by <a href="https://www.linkedin.com/in/suzie-nam-471980b7/">Suzie Nam</a></section></footer></div></body></html>